<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>COVID Case Study</title>

		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">
	</head>
	<title>COVID Case Study</title>
	<body>
		<div class="reveal">
			<div class="slides">
				
				
				<!-- Example Plotly embed:
				
				<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/8.embed" height="650" width="100%"></iframe>
				</section> 
				
				-->
				
				<!-- Example image embed:
				
				<section>
						<img src="/visualizations/Continent_ANOVA_Model.png" alt="ANOVA Modeling of Continents">
				</section>
				
				-->
			
			
				<!-- TITLE SLIDE -->
				<section data-markdown>
					<textarea data-template>
						## COVID Case Study
						Aidan B, Zach O, Jackson W, Taylor J
					</textarea>
				</section>

				<!-- PROJECT DESCRIPTION -->
				<section>
					<body>
						<h3>Project Description</h3>
						<p>We wish to create a descriptive narrative of factors impacting COVID deaths in various world countries.  Our descriptive narrative will include visualizations and appropriate statistics which show which factors were most important in helping a country do relatively well or relatively poorly with COVID mortality.  By identifying the most important factors related to COVID mortality, we will then prescribe certain steps for countries to take if a similar airborne virus caused another pandemic in the future.
						</p>
					</body>				
				</section>
				
				<!-- MAIN QUESTIONS -->
				<section>
					<body>
						<h3>Main Questions</h3>
						<p>
							<ul>
								<li>What are the primary factors that influence COVID mortality in a country?</li>
								<li>How do the primary factors interact with each other?  Can we leave some primary factor(s) out and still have a good regression model?</li>
								<li>What lessons can we learn from the data?  What can countries do to improve the outcome if there is another pandemic similar to the COVID pandemic?</li>
							</ul>
						</p>
					</body>
				</section>
				
				<!-- DATA -->
				<section>
					<section data-markdown>
						<textarea data-template>
							## Data
						</textarea>
					</section>
					
					<section>
						<p>
							Our primary dataset came from Our World In Data's (OWID) <a href="https://github.com/owid/covid-19-data/tree/master/public/data">COVID-19 Data</a>. We decided to use this dataset as OWID curates their data from reputable sources including research from Johns Hopkins University (JHU), the United Nations, the World Bank, and many others. This dataset also has a plethora of variables available for analysis ranging from the number of confirmed cases and deaths on any given day to many other demographic variables such as human development indices and comorbidity factors.
						</p>												
					</section>
					
					<section>					
						<p>
							Our first subset of the data, involved looking at COVID deaths per million in individual countries as of June 8th, 2022.  Using this “snapshot” dataset, we wanted to see if categorical variables (such as whether or not a country imposed a lockdown) were associated with COVID mortality rates. We also desired to know if quantitative but “static” type variables (such as diabetes prevalence in a country or that country’s population density) had any relationship with how each country fared in keeping COVID deaths down.
						</p>
					</section>
					
					<section>						
						<p>
							Our second "subset" of the data, involved looking at COVID deaths per million over time for different regions. This time series data allowed us to see how different continuous variables were related to COVID mortality rate and if these relations differed in different regions. An important note with many of these variables is that they are collected by date of report, rather than date of actual occurence. Due to this, sudden changes can show in our data over time when a country corrects previously under- or overestimated results. This plays an important part in our time-series analysis later on. 
						</p>					
					</section>
				</section>	
				
				<!-- METHODS TRANSITION SLIDE -->
				<section>
					<section data-markdown>
						<textarea data-template>
							## Methods
						</textarea>
					</section>
				
				</section>	
				
				<!-- ANOVA -->	
				<section>
					<section data-markdown>
						<textarea data-template>
							### ANOVA
						</textarea>
					</section>
					
					<section>
						<p>One of the most interesting questions we hoped to answer with our chosen data was the effect of lockdowns – did they help individual countries to keep their COVID mortality rates down?  We used an ANOVA model to test three different categories of lockdown – full, partial, and none.  
						</p>
					</section>
					<section>
						<img src="/visualizations/Lockdown_ANOVA_Model.png" alt="ANOVA Modeling of Lockdown Types">
					</section>
					<section>
						<p>Interestingly, countries which employed a full lockdown had significantly higher COVID mortality rates (on average) than countries which had no lockdown whatsoever.  This may be a counterintuitive result, but considering that countries with more COVID deaths may have been more motivated to try to use lockdowns to stem the number of deaths than countries which weren’t affected as much early on by the disease, the result is not entirely surprising.
						</p>
					</section>
					
					<section>
						<p>Along with lockdown types, we were also interested in analyzing how different continents fared when it came to COVID mortality rates.
						</p>						
					</section>
					<section>
						<img src="/visualizations/Continent_ANOVA_Model.png" alt="ANOVA Modeling of Continents">
					</section>
					<section>
						<p>Based on the results of the model, it appears that countries in South America and Europe had the highest COVID mortality rates on average.  North American countries had a lower mortality rate (on average) than South American and European countries, but a higher mortality rate (on average) than countries in Asia, Africa, and Oceania.  
						</p>
					</section>
					<section>
						<p>South America’s results may have been skewed by the country of Peru, which had a much higher rate of COVID deaths per million than was to be expected given its other variables (more on that later).  The countries of Europe, on the other hand, may have been more afflicted with COVID mortality – especially early on in the pandemic – due to relative amounts of international travel in and out of Europe (although this was not something we could directly measure with our dataset).
						</p>
					</section>
				</section>
				
				<!-- REGRESSION ANALYSIS -->
				<section>
					<section data-markdown>
						<textarea data-template>
							### Linear Regression Analysis 
						</textarea>
					</section>
					
					<section>
						<p>There were many quantitative variables of interest in our “snapshot” dataset, and we divided these variables into two groups – one concerning what we called comorbidities, the other concerning what we named socioeconomic factors.
						</p>
					</section>
					
					<section>
						<p>The comorbidity variables were cardiovascular death rate, diabetes prevalence, and the percentage of the population aged 65 or older.  
						</p>
					</section>					
					<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/22.embed" height="500" width="750"></iframe>
					</section>
					<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/24.embed" height="500" width="750"></iframe>
					</section> 
					<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/26.embed" height="500" width="750"></iframe>
					</section> 
					
					<section>
						<p>For these variables, a preliminary multivariable linear model was constructed. Due to problems with the residual errors, two outliers were removed and a natural logarithm transformation of the response variable – namely, COVID deaths per million – was done in order to create the final model.  The two outliers were Peru (with a much higher COVID mortality rate than the preliminary model suggested) and Japan (with a much lower COVID mortality rate than the preliminary model predicted). 
						</p>
					</section>
					<section>
						<img src="/visualizations/Comorbidities Linear Model.png" alt="Linear Model of Comorbidity Variables">
					</section>	
					<section>
						<p>We found in the final model, which was moderately strong in explaining the variance in log-transformed COVID mortality rates, that the percentage of the population aged 65 or older and the prevalence of diabetes were both highly significant factors in the model.  An increase in either of those explanatory variables was associated with an increase in the log-transformed COVID mortality rate.  Contrastingly, cardiovascular death rate was not significant.
						</p>
					</section>
					
					
					<section>
						<p>The socioeconomic variables were population density, life expectancy, and GDP per capita.  
						</p>
					</section>
					<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/28.embed" height="650" width="100%"></iframe>
					</section>
					<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/30.embed" height="650" width="100%"></iframe>
					</section> 
					<section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/32.embed" height="650" width="100%"></iframe>
					</section> 
					
					<section>
						<p>For the preliminary model using population density, life expectancy, and GDP per capita as factors, three outliers were removed and a natural logarithm transformation of the response variable (COVID deaths per million) was done due to problems with the residual errors.  This became the final version of this model.  The three outliers were Peru, Bulgaria, and Hungary – all with a higher COVID mortality rate than the preliminary model predicted.  
						</p>
					</section>					
					<section>
						<img src="/visualizations/Socioeconomic Linear Model 2.png" alt="Linear Model of Socioeconomic Variables">
					</section>
					<section>
						<p>
							We found in the final model, which was moderately strong in explaining the variance in log-transformed COVID mortality rates, life expectancy was a highly significant factor in the model while population density was only a moderate factor in the model (0.05 &lt; p &lt; 0.1).  An increase in life expectancy was associated with an increase in the log-transformed COVID mortality rate, while an increase in population density was associated with a decrease in the log-transformed COVID mortality rate.  These results may be explained by the same reasoning given in the previous paragraph.
						</p>
					</section>
					
					<section>
						<p>
							We also wanted to compare two models – namely, a socioeconomic factor model versus a comorbidity factor model – and their resultant R<sup>2</sup> values to see which model could better explain the COVID-19 mortality rate on specific continents. We also wanted to compare two models – namely, a socioeconomic factor model versus a comorbidity factor model – and their resultant R2 values to see which model could better explain the COVID-19 mortality rate in specific continents. The following plot compares the R2 across the continents for each model. 						
						</p>
					</section>
					<section>
						<img src="/visualizations/R2_Comparison_Plot.png" alt="Comparison of R2 between different models">
					</section>
					<section>
						<p>
							Overall, neither the socioeconomic nor comorbidity variables had much impact on the total COVID deaths per million for each individual continent and metrics such as R<sup>2</sup> were generally low – with the exception of South America and Africa, for which the R<sup>2</sup> values were moderate.  It was interesting, furthermore, to see the fluctuation of R<sup>2</sup> for the same features and same target on different continents.  The comorbidity features explained the highest percentage of variance for Africa (0.447) while the socioeconomic variables explained the highest percentage of variance for South America (0.489).  Both sets of explanatory variables were particularly insignificant to COVID deaths per million in Asia, with R<sup>2</sup> values of only around 0.08 for socioeconomic factors and 0.172 for comorbidity factors. 
						</p>
					</section>
				</section>
				
				<!-- KMEANS CLUSTERING -->
				<section>
					<section data-markdown>
						<textarea data-template>
							## Kmeans Clustering
						</textarea>
					</section>
					
					
					<section>
						<p>KMeans clustering analysis was performed on the snapshot dataset using socioeconomic, comorbidity and COVID totals variables as well as principal component analysis. The data was scaled using MinMaxScaler and the optimal number of clusters for the data in question was arrived at by use of a silhouette score analysis as well as an elbow chart. 
						</p>
					</section>
					
					<section>
						<p>For the socioeconomic data (life expectancy, GDP per capita, population density) the optimal number of clusters arrived at was 4. The data clustered nicely in an easy to interpret format, but the overall scatterplot was slightly crunched due to some outlier countries with higher life expectancy and population density than the rest. 						
						</p>
					</section>
					
					section>
						<iframe id="igraph" scrolling="yes" style="border:none;" seamless="seamless" src="https://plotly.com/~aidan2b/34.embed" height="500" width="750"></iframe>
					</section> 
					
					<section>
						<p>For the comorbidity related data(population 65 years and older, cardiovascular death rate and diabetes prevalence), the optimal number of clusters arrived at was 7. The clusters make sense in that it is easy to see countries in Africa, Asia and Latin America with younger populations clustering together as well as North American and and northern European countries with older populations and higher comorbidity rates clustering together. It was interesting to see that many Pacific island nations have very high cardiovascular death rates and diabetes prevalence, and the clustering highlighted that fact.						
						</p>
					</section>
					
					<section>
						<p>Finally, a cluster analysis on the COVID related data (total deaths per million, total cases per million, total vaccinations per hundred) was probably the most useful out of the analyses conducted. The optimal number of clusters arrived at was actually 3 but we chose the second highest silhouette score at 8 clusters for visual effect and to call out outliers. The outliers Peru, Macedonia, Bulgaria, Hungary and Bosnia and Herzegovina were all encompassed in one cluster. It was also interesting to see how smaller countries, especially island nations with high vaccination rates, were able to keep their cases and deaths down.
						</p>
					</section>
					
															
				</section>
				
				<!-- ARIMA -->
				<section>
					<section data-markdown>
						<textarea data-template>
							## ARIMA
						</textarea>
					</section>
					
					<section>
						<p>
							Autoregressive Integrated Moving Average, or ARIMA, is a statistical analysis model that uses time series data to either better understand a data set or predict future trends. As dictated by our main questions, we are mainly interested in determining the primary factors, what we will call the exogenous variables, that drive mortality rates within our time-series data.
						</p>
					</section>	
					
					<section>
						<p>
							We chose our target variable for the model as new deaths smoothed per million. We hoped to show a relation between spikes in new deaths and changes in our exogenous variables. We used the smoothed data, which is a rolling seven day average because the variance in day to day data was very extreme. This also should help anomalies in the way different countries report their data from being too impactful.
						</p>
					</section>	
					
					<section>
						<p>
							For our exogenous variables, we looked at four variables: ‘people fully vaccinated per million’, ‘reproduction rate’ (real-time estimate of the effective reproduction rate of the virus), ‘icu patients per million’, and ‘hospital patients per million’.
						</p>
					</section>	
					
					<section>
						<p>
							People fully vaccinated is the exogenous variable we were most interested in. We hoped to show that as the number of people vaccinated increased that the number of deaths would decrease. We should see the inverse of this with Hospital and ICU patients. As their values increase we should see an increase in the number of new deaths.
						</p>
					</section>	
					
					<section>
						<p>
							However, The P values of our exogenous variables were very high. This means that in relation to the other variables, in our case the auto regressor (AR) and moving average (MA) values, our exogenous variables were not as useful when predicting the daily new deaths of a country. We attempted to see if any of the coefficients for each variable were consistent across the specfic regions but they were not of any statistical significance. 
						</p>
					</section>	
					
					<section>
						<p>
							The only significance, as mentioned earlier were the AR and MA values which essentially indicates that data on any given date is more dependent on the results of previous days rather than any of our specific exogenous variables. From this knowledge, we became curious if forecasting was possible, but we came to the realization that forecasting COVID data is difficult due to reporting lag as well as unpredictability of when a new variant would emerge.
						</p>
					</section>	
				</section>
				
				<!-- CONCLUSIONS -->
				<section>
					<section data-markdown>
						<textarea data-template>
							## Conclusions
						</textarea>
					</section>
				</section>
				
				<!-- SOURCES -->
				<section>
					<section data-markdown>
						<textarea data-template>
							## Sources
						</textarea>
					</section>
				</section>
				
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
